<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('./partials/head') %>
    <link rel="stylesheet" href="/stylesheets/login.css">
    <link rel="stylesheet" href="/public/stylesheets/all.css">
    <% console.log(locals.isAuthed);%>
    <% if(locals.isAuthed == true){%>
    <%-    include('./partials/navbar-logged-in',{userInfo : locals.userInfo} )%>
    <%  } else {%>
    <%-     include('./partials/navbar-signed-out')%>
    <%  } %>
    <%- include('./partials/index-navbar') %>
    <title>Log in - WVSS Shop</title>
</head>
<body class="mx-0 mt-3" style="height: auto; overflow-x: hidden;">
    <main>
        <section id="sign-in-window">
            <div id="sign-in-content">
                <div id="sign-in-up">
                    <div id="sign-up-container" onclick="location.href='../users/signup';" style="cursor: pointer;"><p>Sign up</p></div>
                    <div id="sign-in-container"><p>Log in</p></div>
                </div>
                <button id="google_signin">Continue with Google</button>
                <div id="line-holder"><hr></div>
                <form action = "/users/loginPOST" method = "POST">
                    <input name = "email" type="text" placeholder="Email Address" autocomplete="email">
                    <input name = "password" type="password" placeholder="Password">
                    <div></div>
                    <button id="sign-up-button">Log in</button>
                </form>
                <p id="Terms-text">By logging in, you agree to the Terms of Service and Privacy Policy</p>   
            </div>
        </section>
    </main>
    <footer>
        <p>WVSS Shop - Made by the Programming club</p>
    </footer>
    <script>
        function onSignIn(googleUser) {
          // Useful data for your client-side scripts:
          var profile = googleUser.getBasicProfile();
          console.log("ID: " + profile.getId()); // Don't send this directly to your server!
          console.log('Full Name: ' + profile.getName());
          console.log('Given Name: ' + profile.getGivenName());
          console.log('Family Name: ' + profile.getFamilyName());
          console.log("Image URL: " + profile.getImageUrl());
          console.log("Email: " + profile.getEmail());
  
          // The ID token you need to pass to your backend:
          var id_token = googleUser.getAuthResponse().id_token;
          console.log("ID Token: " + id_token);
        }
      </script>
</body>
</html>